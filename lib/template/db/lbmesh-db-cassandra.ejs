version: "2"
services:

  cassandra:
    container_name: lbmesh-db-cassandra
    image: <%= cassandra_image %>
    mem_reservation: 1536m
    mem_limit: 3584m
    volumes:
      - '<%= homedir_data %>:/var/lib/cassandra'
    ports:
      - "7199:7199"
      - "<%= cassandra_port %>:9042"
      - "9160:9160"
      - "7000-7001:7000-7001"     
    environment:
      CASSANDRA_CLUSTER_NAME: lbmesh-cassandra
    networks:
      - lbmesh-db-cassandra

networks:
  lbmesh-db-cassandra: