version: "2"
services:
    rabbitmq:
        container_name: lbmesh-integ-rabbitmq
        mem_reservation: 128m
        mem_limit: 384m
        hostname: '<%= rabbitmq_hostname %>'
        environment:
          - RABBITMQ_DEFAULT_USER=<%= rabbitmq_env_user %>
          - RABBITMQ_DEFAULT_PASS=<%= rabbitmq_env_pass %>
        volumes:
          - '<%= rabbitmq_data %>:/var/lib/rabbitmq/'
        ports:
            - '<%= rabbitmq_port_admin %>:15672'
            - '<%= rabbitmq_port_data %>:5672'
        image: 'rabbitmq:3-management'
        networks:
          - lbmesh-integ-rabbitmq

networks:
  lbmesh-integ-rabbitmq: