version: '2'
services: 

  mqtt: 
    container_name: lbmesh-integ-mqtt
    image: lbmesh/integ-mqtt-broker:latest
    mem_reservation: 32m
    mem_limit: 128m
    ports:
      - '<%= mqtt_data %>:1883'
      - '<%= mqtt_socket %>:9001'
    volumes:
      - './config/mosquitto.conf:/mosquitto/config/mosquitto.conf'
      - './data:/mosquitto/data'
      - './log:/mosquitto/log'
    networks:
      - lbmesh-integ-mqtt


networks:
  lbmesh-integ-mqtt: