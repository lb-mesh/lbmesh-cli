version: '2'
services: 

  mqtt: 
    container_name: lbmesh-integ-mqtt
    image: lbmesh/integ-mqtt-broker:latest
    mem_reservation: 32m
    mem_limit: 128m
    ports:
      - '<%= mqtt_port_data %>:1883'
      - '<%= mqtt_port_socket %>:9001'
    volumes:
      - '<%= mqtt_config %>:/mosquitto/config/mosquitto.conf'
      - '<%= mqtt_data %>:/mosquitto/data'
      - '<%= mqtt_log %>:/mosquitto/log'
    networks:
      - lbmesh-integ-mqtt


networks:
  lbmesh-integ-mqtt: